---
import Layout from '../layouts/Layout.astro';
import Nav from '../components/Nav.astro';
import Header from '../components/Header.astro';
import Info from '../components/Cards.astro';
import Footer from '../components/Footer.astro';
import PanelInfo from '../components/PanelInfo.astro';
import Faq from '../components/Faq.astro';
---

<Layout title="Xdual | VPS">
    <main>
        <Nav/>
        <Header/>
        <div class="relative max-w-7xl mx-auto px-3 pt-10">
            <h1 class="mb-4 font-bold text-3xl text-white text-center">Our Products</h1>
            <div class="flex justify-center mb-8">
                <button id="nlButton" class="px-6 py-3 text-black bg-[#ff7d0b] border-2 border-white rounded-sm transition-colors duration-300 ease-in-out">Netherlands VPS</button>
                <button id="deButton" class=" px-6 py-3 text-black bg-white border-2 border-white rounded-sm transition-colors duration-300 ease-in-out">Germany VPS</button>
            </div>
            
                        
            <div id="productsContainer" class="grid md:grid-cols-3 sm:grid-cols-1 gap-4">
            </div>
        </div>
        <Info/>
        <PanelInfo/>
        <Faq/>
        <Footer/>
    </main>
</Layout>

<script>
    const nlProducts = [
        {
            name: "VPS 1",
            href: "https://my.xdual.es/checkout/config/12",
            price: "2",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "2 Xeon vCores",
                "4GB DDR4 RAM",
                "50GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support",
            ]
        },
        {
            name: "VPS 2",
            href: "https://my.xdual.es/checkout/config/13",
            price: "3",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "4 Xeon vCores",
                "6GB DDR4 RAM",
                "70GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
        {
            name: "VPS 3",
            href: "https://my.xdual.es/checkout/config/14",
            price: "4",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "6 Xeon vCores",
                "8GB DDR4 RAM",
                "90GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
        {
            name: "VPS 4",
            href: "https://my.xdual.es/checkout/config/15",
            price: "6",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "6 Xeon vCores",
                "12GB DDR4 RAM",
                "125GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
        {
            name: "VPS 5",
            href: "https://my.xdual.es/checkout/config/17",
            price: "8",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "8 Xeon vCores",
                "16GB DDR4 RAM",
                "160GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
        {
            name: "VPS 6",
            href: "https://my.xdual.es/checkout/config/23",
            price: "10",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "10 Xeon vCores",
                "20GB DDR4 RAM",
                "200GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
        {
            name: "VPS 7",
            href: "https://my.xdual.es/checkout/config/19",
            price: "12",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "14 Xeon vCores",
                "28GB DDR4 RAM",
                "260GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
        {
            name: "VPS 8",
            href: "https://my.xdual.es/checkout/config/21",
            price: "20",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "16 Xeon vCores",
                "40GB DDR4 RAM",
                "400GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
        {
            name: "VPS 9",
            href: "https://my.xdual.es/checkout/config/22",
            price: "30",
            features: [
                "ðŸ‡³ðŸ‡± Netherlands",
                "18 Xeon vCores",
                "60GB DDR4 RAM",
                "600GB NVMe",
                "AntiDDoS path.net + 1 IPv4",
                "Unlimited Bandwidth",
                "24/7 Support"
            ]
        },
    ];

    const deProducts = [
    {
        name: "VPS 1",
        href: "https://my.xdual.es/checkout/config/1",
        price: "5",
        features: [
			"ðŸ‡©ðŸ‡ª Germany, Frankfurt",
            "2 Intel vCores",
            "4GB DDR4 RAM",
			"50GB NVMe",
			"AntiDDoS path.net + 1 IPv4",
            "Unlimited Bandwidth",
            "24/7 Support",
        ]
    },
	{
        name: "VPS 2",
        href: "https://my.xdual.es/checkout/config/7",
        price: "8",
        features: [
			"ðŸ‡©ðŸ‡ª Germany, Frankfurt",
            "4 Intel vCores",
            "6GB DDR4 RAM",
			"70GB NVMe",
			"AntiDDoS path.net + 1 IPv4",
            "Unlimited Bandwidth",
            "24/7 Support"
        ]
    },
		{
        name: "VPS 3",
        href: "https://my.xdual.es/checkout/config/8",
        price: "10",
        features: [
			"ðŸ‡©ðŸ‡ª Germany, Frankfurt",
            "6 Intel vCores",
            "8GB DDR4 RAM",
			"90GB NVMe",
			"AntiDDoS path.net + 1 IPv4",
            "Unlimited Bandwidth",
            "24/7 Support"
        ]
    },
	{
        name: "VPS 4",
        href: "https://my.xdual.es/checkout/config/9",
        price: "15",
        features: [
			"ðŸ‡©ðŸ‡ª Germany, Frankfurt",
            "6 Intel vCores",
            "12GB DDR4 RAM",
			"125GB NVMe",
			"AntiDDoS path.net + 1 IPv4",
            "Unlimited Bandwidth",
            "24/7 Support"
        ]
    },
	{
        name: "VPS 5",
        href: "https://my.xdual.es/checkout/config/10",
        price: "20",
        features: [
			"ðŸ‡©ðŸ‡ª Germany, Frankfurt",
            "8 Intel vCores",
            "16GB DDR4 RAM",
			"160GB NVMe",
			"AntiDDoS path.net + 1 IPv4",
            "Unlimited Bandwidth",
            "24/7 Support"
        ]
    },

];

    function renderProducts(products: any[]) {
    const productsContainer = document.getElementById('productsContainer');
    if (!productsContainer) {
        console.error('productsContainer element not found');
        return;
    }
    productsContainer.innerHTML = products.map(product => `
        <div class="w-full max-w-sm p-4 border rounded-lg shadow sm:p-8 mt-5">
            <h5 class="mb-1 text-xl font-medium">${product.name}</h5>
            <h5 class="mb-1 text-sm font-thin text-gray-100">Starting at</h5>
            <div class="flex items-baseline text-gray-100">
                <span class="text-3xl font-semibold">&euro;</span>
                <span class="text-5xl font-extrabold tracking-tight">${product.price}</span>
                <span class="ms-1 text-xl font-normal text-gray-400">/month</span>
            </div>
            <ul role="list" class="md:space-y-2 my-4">
                ${product.features.map((feature: string) => `
                    <li class="flex items-center">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20"
                            fill="white"
                            aria-hidden="true"
                            data-slot="icon"
                            class="h-6 w-5 flex-none text-black"
                        >
                            <path
                                fill-rule="evenodd"
                                d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z"
                                clip-rule="evenodd"
                            ></path>
                        </svg>
                        <span class="text-base font-normal leading-tight text-gray-400 ms-3">
                            ${feature}
                        </span>
                    </li>
                `).join('')}
            </ul>
            <a
                type="button"
                class="text-black bg-white hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex justify-center w-full text-center"
                href="${product.href}"
            >
                Order
            </a>
        </div>
    `).join('');
}

function filterProducts(country: string) {
    const nlButton = document.getElementById('nlButton');
    const deButton = document.getElementById('deButton');

    if (!nlButton || !deButton) {
        console.error('nlButton or deButton element not found');
        return;
    }

    if (country === 'NL') {
        renderProducts(nlProducts);
        nlButton.classList.add('bg-[#ff7d0b]');
        nlButton.classList.remove('bg-white');
        deButton.classList.add('bg-white');
        deButton.classList.remove('bg-[#ff7d0b]');
    } else {
        renderProducts(deProducts);
        deButton.classList.add('bg-[#ff7d0b]');
        deButton.classList.remove('bg-white');
        nlButton.classList.add('bg-white');
        nlButton.classList.remove('bg-[#ff7d0b]');
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const nlButton = document.getElementById('nlButton');
    const deButton = document.getElementById('deButton');

    if (nlButton) {
        nlButton.addEventListener('click', () => filterProducts('NL'));
    } else {
        console.error('nlButton element not found');
    }

    if (deButton) {
        deButton.addEventListener('click', () => filterProducts('DE'));
    } else {
        console.error('deButton element not found');
    }

    filterProducts('NL');
});
